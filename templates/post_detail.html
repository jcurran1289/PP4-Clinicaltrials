{% extends "base.html" %}

{% block content %}


<body>

  <!-- Page content-->
  <div class="container mt-5">
    <div class="row">
      <div class="col-lg-8">
        <!-- Post content-->
        <article>
          <!-- Post header-->
          <header class="mb-4">
            <!-- Post title-->
            <h1 class="fw-bolder mb-1">{{post.title}}</h1>
            <!-- Post meta content-->
            <div class="text-muted fst-italic mb-2">{{post.excerpt}}</div>
            <!-- Post categories-->
            <a class="badge bg-secondary text-decoration-none link-light" href="#!">Web Design</a>
            <a class="badge bg-secondary text-decoration-none link-light" href="#!">Freebies</a>
          </header>
          <!-- Preview image figure-->
          <figure class="mb-4"><img class="img-fluid rounded" src="https://dummyimage.com/900x400/ced4da/6c757d.jpg"
              alt="..." /></figure>
          <!-- Post content-->
          <section class="mb-5">
            <div class="row">
              <div class="col-lg-6 col-md-6">
                <p><b>Principal Investigator:</b> {{post.prin_invest}}</p>
              </div>
              <div class="col-lg-6 col-md-6">
                <p>IRB Number: {{post.irb_number}}</p>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-6 col-md-6">
                <p>Contact Name: {{post.contact_name}}</p>
              </div>
              <div class="col-lg-6 col-md-6">
                <p>Email: {{post.contact_email}}</p>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-6 col-md-6">
                <p>Age: {{post.eligible_age_min}} - {{post.eligible_age_max}}</p>
              </div>
              <div class="col-lg-6 col-md-6">
                <p>Gender: {{post.get_gender_display}}</p>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-6 col-md-6 mx-auto">
                <p>Start Date: {{post.start_dt}}</p>
              </div>
              <div class="col-lg-6 col-md-6 mx-auto">
                <p>End Date: {{post.end_dt}}</p>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 mx-auto">
                <p>{{post.content | safe }}</p>
              </div>
            </div>
            <div class="row">
              <div class="col-6">
                <strong>
                  {% if user.is_authenticated %}
                  <form class="d-inline" action="{% url 'post_enroll' post.slug %}" method="POST">
                    {% csrf_token %}
                    {% if liked %}
                    <button type="submit" name="blogpost_id" value="{{post.slug}}" class="btn-like"
                      style="color: blue">Enroll</button>
                    {% else %}
                    <button type="submit" name="blogpost_id" value="{{post.slug}}" class="btn-like"
                      style="color: red">Leave</button>
                    {% endif %}
                  </form>
                  {% else %}
                  <span class="text-secondary"></span>
                  {% endif %}
                  <!-- The number of likes goes before the closing strong tag -->
                  <span class="text-secondary">Number of participants currently enrolled: {{ post.no_enrolled }} </span>
                </strong>
              </div>
            </div>
          </section>
        </article>

      </div>
      <!-- Side widgets-->
      <div class="col-lg-4">
        <!-- Search widget-->
        <div class="card mb-4">
          <div class="card-header">Search</div>
          <div class="card-body">
            <div class="input-group">
              <input class="form-control" type="text" placeholder="Enter search term..."
                aria-label="Enter search term..." aria-describedby="button-search" />
              <button class="btn btn-primary" id="button-search" type="button">Go!</button>
            </div>
          </div>
        </div>
        <!-- Categories widget-->
        <div class="card mb-4">
          <div class="card-header">Categories</div>
          <div class="card-body">
            <div class="row">
              <div class="col-sm-6">
                <ul class="list-unstyled mb-0">
                  <li><a href="#!">Web Design</a></li>
                  <li><a href="#!">HTML</a></li>
                  <li><a href="#!">Freebies</a></li>
                </ul>
              </div>
              <div class="col-sm-6">
                <ul class="list-unstyled mb-0">
                  <li><a href="#!">JavaScript</a></li>
                  <li><a href="#!">CSS</a></li>
                  <li><a href="#!">Tutorials</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <!-- Side widget-->
        <div class="card mb-4">
          <div class="card-header">Side Widget</div>
          <div class="card-body">You can put anything you want inside of these side widgets. They are easy to use, and
            feature the Bootstrap 5 card component!</div>
        </div>
      </div>
    </div>
  </div>

</body>

{% endblock content %}